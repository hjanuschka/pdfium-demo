<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#121212" />
  <title>PDFium + JPEG XL in PDF (Rust-only demo)</title>
  <meta name="description" content="Demo artifacts for experimental JXL-in-PDF support in PDFium using the pure Rust decoder jxl-rs." />

  <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
  <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'" fetchpriority="low" />
  <noscript><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet"></noscript>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --bg: #121212;
      --bg-light: #1e1e1e;
      --bg-lighter: #333333;
      --text: #bebebe;
      --text-dim: #8a8a8d;
      --accent: #D35F5F;
      --accent-dim: #b84a4a;
      --border: #333333;
    }

    body {
      font-family: 'JetBrains Mono', ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, monospace;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      font-size: 14px;
    }

    a { color: var(--accent); text-decoration: none; }
    a:hover { color: var(--accent-dim); text-decoration: underline; }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .terminal-window {
      background: var(--bg);
      border: 3px solid var(--accent);
      border-radius: 12px;
      margin: 20px 0;
    }

    .terminal-header {
      background: var(--accent);
      color: var(--bg);
      padding: 12px 16px;
      font-weight: 700;
      border-radius: 9px 9px 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .terminal-body {
      padding: 16px;
      background: var(--bg-light);
      border-radius: 0 0 9px 9px;
    }

    .pill {
      display: inline-block;
      padding: 2px 8px;
      border: 1px solid var(--border);
      border-radius: 999px;
      background: var(--bg);
      color: var(--text);
      font-size: 12px;
      white-space: nowrap;
    }

    .ascii-box {
      border: 2px solid var(--border);
      border-radius: 8px;
      background: var(--bg-light);
      margin: 18px 0;
      overflow: hidden;
    }

    .ascii-box-header {
      background: var(--border);
      color: var(--text);
      padding: 8px 12px;
      font-weight: 700;
    }

    .ascii-box-content { padding: 14px; }

    .grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }

    @media (min-width: 900px) {
      .grid { grid-template-columns: 1fr 1fr; }
    }

    .thumb {
      width: 100%;
      height: auto;
      display: block;
      border: 1px solid var(--border);
      border-radius: 8px;
      background:
        repeating-linear-gradient(45deg, rgba(255,255,255,0.06) 0px, rgba(255,255,255,0.06) 10px, rgba(255,255,255,0.02) 10px, rgba(255,255,255,0.02) 20px);
    }

    .meta { color: var(--text-dim); margin-top: 8px; }

    .actions {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .btn {
      display: inline-block;
      padding: 8px 10px;
      border: 1px solid var(--border);
      border-radius: 8px;
      background: var(--bg);
      color: var(--text);
      text-decoration: none;
    }

    .btn:hover { border-color: var(--accent); text-decoration: none; }

    .footer { margin: 26px 0 50px; color: var(--text-dim); }
    code { color: var(--text); }
  </style>
</head>

<body>
  <div class="container">
    <div style="padding: 28px 0 8px;">
      <div class="terminal-window">
        <div class="terminal-header">
          <div>PDFium + JPEG XL in PDF (Rust-only demo)</div>
          <div class="pill">/Filter /JXLDecode · alpha→/SMask · animation→frame0</div>
        </div>
        <div class="terminal-body">
          <p>
            Prototype support for decoding <strong>JPEG XL (JXL)</strong> images embedded in <strong>PDF</strong>
            using the pure Rust decoder <code>jxl-rs</code>.
            These PDFs use the current bring-up filter name <code>/JXLDecode</code>.
          </p>
          <p class="meta" style="margin-top:10px;">
            Note: transparency is visualized using a checkerboard background baked into the PDF content stream.
          </p>
        </div>
      </div>

      <div class="ascii-box">
        <div class="ascii-box-header">[demo artifacts]</div>
        <div class="ascii-box-content">
          <div class="grid">
            <div>
              <img class="thumb" src="assets/zoltan-jxldecode.pdf.0.png" alt="Rendered output: Zoltan" />
              <p style="margin-top:10px;"><strong>Zoltan (RGB photo)</strong></p>
              <p class="meta">Large RGB JXL embedded in PDF and rendered by PDFium.</p>
              <div class="actions">
                <a class="btn" href="assets/zoltan-jxldecode.pdf">PDF</a>
                <a class="btn" href="assets/zoltan-jxldecode.pdf.0.png">Rendered PNG</a>
              </div>
            </div>

            <div>
              <img class="thumb" src="assets/dice-jxldecode.pdf.0.png?v=3" alt="Rendered output: Dice (alpha)" />
              <p style="margin-top:10px;"><strong>Dice (alpha)</strong></p>
              <p class="meta">RGBA JXL. PDFium synthesizes an <code>/SMask</code> and composites over checkerboard.</p>
              <div class="actions">
                <a class="btn" href="assets/dice-jxldecode.pdf?v=3">PDF</a>
                <a class="btn" href="assets/dice-jxldecode.pdf.0.png?v=3">Rendered PNG</a>
              </div>
            </div>

            <div>
              <img class="thumb" src="assets/anim-icos-jxldecode.pdf.0.png?v=3" alt="Rendered output: anim-icos (frame 0)" />
              <p style="margin-top:10px;"><strong>anim-icos (animated → frame 0)</strong></p>
              <p class="meta">Animated RGBA JXL. PDFium decodes frame 0 only and composites over checkerboard.</p>
              <div class="actions">
                <a class="btn" href="assets/anim-icos-jxldecode.pdf?v=3">PDF</a>
                <a class="btn" href="assets/anim-icos-jxldecode.pdf.0.png?v=3">Rendered PNG</a>
              </div>
            </div>
          </div>

          <div class="footer">
            Repo: <a href="https://github.com/hjanuschka/pdfium-demo">hjanuschka/pdfium-demo</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
